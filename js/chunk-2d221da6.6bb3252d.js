(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d221da6"],{cbb3:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"mb-12"},[s("v-row",[0===t.tanks.length?s("v-col",{attrs:{cols:"12",md:"8","offset-md":"2"}},[s("p",{staticClass:"mb-8",class:{headline:t.$vuetify.breakpoint["xs"],"display-2":t.$vuetify.breakpoint["smAndUp"]}},[t._v(" У вас еще нет аквариума ")]),s("p",[s("a",{on:{click:function(e){t.dialog=!0}}},[t._v("Добавьте аквариум")]),t._v(", чтобы вы могли создавать рецепты удобрений и составлять расписание по внесению удобрений. ")])]):t._e(),s("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[s("v-expansion-panels",{attrs:{multiple:""}},[s("draggable",{staticStyle:{width:"100%"},on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1}},model:{value:t.tanks,callback:function(e){t.tanks=e},expression:"tanks"}},t._l(t.tanks,(function(e,n){return s("v-expansion-panel",{key:e.name},[s("v-expansion-panel-header",[s("div",{staticClass:"d-flex justify-space-between align-center",staticStyle:{width:"100%"}},[s("span",{staticClass:"no-break font-weight-regular d-flex flex-column flex-sm-row align-start",class:{"subtitle-1":t.$vuetify.breakpoint["xs"],title:t.$vuetify.breakpoint["smAndUp"]}},[t._v(" "+t._s(e.name)+" ")]),s("span",{staticClass:"mr-3"},[t._v(" "+t._s(e.volume)+" л ")])])]),s("v-expansion-panel-content",[e.length?s("div",{staticClass:"body-2"},[s("div",{staticClass:"d-flex justify-space-between"},[s("div",[t._v("Длина")]),s("div",[t._v(t._s(e.length)+" см")])]),s("div",{staticClass:"d-flex justify-space-between"},[s("div",[t._v("Ширина")]),s("div",[t._v(t._s(e.width)+" см")])]),s("div",{staticClass:"d-flex justify-space-between"},[s("div",[t._v("Высота")]),s("div",[t._v(t._s(e.height)+" см")])]),s("div",{staticClass:"d-flex justify-space-between"},[s("div",[t._v("Толщина стекла")]),s("div",[t._v(t._s(e.glassThickness)+" мм")])])]):s("div",{staticClass:"body-2"},[t._v(" Нет дополнительной информации ")]),s("div",{staticClass:"d-flex justify-end mt-4"},[s("v-btn",{staticClass:"mr-n4",attrs:{text:"",right:""},on:{click:function(e){return e.stopPropagation(),t.setComponent(n)}}},[t._v(" Изменить ")])],1)])],1)})),1)],1)],1)],1),s("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-toolbar",{attrs:{dark:"",color:"primary"}},[t.isEditing?s("v-toolbar-title",[t._v(" Редактирование аквариума ")]):s("v-toolbar-title",[t._v(" Новый аквариум ")]),s("v-btn",{staticClass:"ml-auto",attrs:{icon:"",dark:""},on:{click:function(e){t.dialog=!1}}},[s("v-icon",[t._v("mdi-close")])],1)],1),s("v-card-text",{staticClass:"px-2"},[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"8","offset-md":"2"}},[s("v-form",{ref:"tankForm"},[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-text-field",{attrs:{label:"Название","hide-details":"auto",clearable:"",hint:t.nameHint,rules:t.nameRules},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),s("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[s("v-text-field",{attrs:{type:"Number",label:"Введите объем",suffix:"л","hide-details":"auto",hint:t.volumeHint,rules:t.volumeRules},model:{value:t.volume,callback:function(e){t.volume=t._n(e)},expression:"volume"}})],1),s("v-col",{staticClass:"text-center pb-0",attrs:{cols:"12"}},[s("div",{staticClass:"d-flex align-center my-3"},[s("v-divider"),s("div",{staticClass:"mx-2"},[t._v("или используйте размеры")]),s("v-divider")],1)]),s("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[s("v-text-field",{attrs:{type:"Number",label:"Длина",suffix:"см","hide-details":"auto"},model:{value:t.length,callback:function(e){t.length=e},expression:"length"}}),s("v-text-field",{attrs:{type:"Number",label:"Ширина",suffix:"см","hide-details":"auto"},model:{value:t.width,callback:function(e){t.width=e},expression:"width"}}),s("v-text-field",{attrs:{type:"Number",label:"Высота",suffix:"см",hint:"Введите высоту чистого столба воды","hide-details":"auto"},model:{value:t.height,callback:function(e){t.height=e},expression:"height"}}),s("v-text-field",{attrs:{type:"Number",label:"Толщина стекла",suffix:"мм","hide-details":"auto"},model:{value:t.glassThickness,callback:function(e){t.glassThickness=e},expression:"glassThickness"}})],1),s("v-expand-transition",[s("v-col",{staticClass:"text-right",attrs:{cols:"12"}},[t.isEditing?s("v-btn",{on:{click:t.removeTank}},[t._v("Удалить")]):t._e(),t.isEditing?s("v-btn",{staticClass:"ml-2",attrs:{color:"primary"},on:{click:t.editTank}},[t._v("Сохранить")]):t._e(),t.isEditing?t._e():s("v-btn",{attrs:{color:"primary"},on:{click:t.addTank}},[t._v(" Сохранить ")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),s("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[s("v-btn",t._g({class:{drawer:t.drawer&&t.$vuetify.breakpoint["smAndUp"]},staticStyle:{transition:"all 0.2s"},attrs:{color:"primary",dark:"",fab:"",fixed:"",bottom:"",right:""},on:{click:t.openAddTank}},n),[s("v-icon",[t._v("mdi-plus")])],1)]}}])},[s("span",[t._v("Добавить аквариум")])])],1)},i=[],a=(s("a4d3"),s("99af"),s("4de4"),s("c740"),s("4160"),s("d81d"),s("b0c0"),s("e439"),s("dbb4"),s("b64b"),s("acd8"),s("159b"),s("2fa7")),l=s("2f62"),o=s("310e"),r=s.n(o);function c(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function d(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?c(s,!0).forEach((function(e){Object(a["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):c(s).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var h={name:"tank",components:{draggable:r.a},data:function(){var t=this;return{name:null,volume:null,length:null,height:null,width:null,glassThickness:null,curTankIndex:null,dialog:this.$route.params.open,nameRules:[function(t){return!!t||"Введите название"},function(e){return!t.isExist||t.isSame||"Аквариум с таким названием уже существует"}],volumeRules:[function(t){return!!t||"Введите объем в литрах"}]}},computed:d({},Object(l["d"])(["tanks","schedules","drawer"]),{tanks:{get:function(){return this.$store.state.tanks},set:function(t){this.TANK_MOVE(t)}},dimensions:function(){return"".concat(this.length,"|").concat(this.height,"|").concat(this.width,"|").concat(this.glassThickness)},isExist:function(){var t=this,e=this.tanks.map((function(t){return t.name}));return-1!==e.findIndex((function(e){return e===t.name}))},isSame:function(){var t=this,e=this.tanks.map((function(t){return t.name}));return e.findIndex((function(e){return e===t.name}))===this.curTankIndex},isEditing:function(){return null!==this.curTankIndex},nameHint:function(){var t=this.tanks.length+1;return'Придумайте простое название, например "Аквариум '.concat(t,'" или "Большой аквариум"')},volumeHint:function(){return"Воспользуйтесь калькулятором, если не знаете точное значение"}}),watch:{dimensions:function(){this.length&&this.height&&this.width?this.volume=Math.round((this.length-2*this.glassThickness/10)*this.height*(this.width-2*this.glassThickness/10)/1e3*100)/100:this.volume=0}},methods:d({},Object(l["c"])(["TANK_ADD","TANK_REMOVE","TANK_EDIT","TANK_MOVE","SNACKBAR_SHOW"]),{resetComponent:function(){this.name=null,this.volume=null,this.length=null,this.height=null,this.width=null,this.glassThickness=null,this.curTankIndex=null,this.isTankVolumeCalc=!1,this.dialog=!1},setComponent:function(t){var e=this.tanks[t];this.name=e.name,this.volume=e.volume,this.length=e.length,this.height=e.height,this.width=e.width,this.glassThickness=e.glassThickness,this.curTankIndex=t,this.dialog=!0},openAddTank:function(){this.resetComponent(),this.dialog=!this.dialog,this.$refs.tankForm&&this.$refs.tankForm.resetValidation()},addTank:function(){this.$refs.tankForm.validate()&&(this.TANK_ADD({name:this.name,volume:parseFloat(this.volume),length:parseFloat(this.length),height:parseFloat(this.height),width:parseFloat(this.width),glassThickness:parseFloat(this.glassThickness)}),this.resetComponent(),this.SNACKBAR_SHOW("Аквариум добавлен"))},editTank:function(){this.$refs.tankForm.validate()&&(this.TANK_EDIT({index:this.curTankIndex,tank:{name:this.name,volume:this.volume,length:this.length,height:this.height,width:this.width,glassThickness:this.glassThickness}}),this.resetComponent(),this.SNACKBAR_SHOW("Аквариум изменен"))},removeTank:function(){this.TANK_REMOVE(this.curTankIndex),this.resetComponent(),this.SNACKBAR_SHOW("Аквариум удален")}})},u=h,v=s("2877"),f=s("6544"),m=s.n(f),p=s("8336"),g=s("b0af"),b=s("99d9"),k=s("62ad"),x=s("a523"),_=s("169a"),T=s("ce7e"),w=s("0789"),y=s("cd55"),C=s("49e2"),O=s("c865"),V=s("0393"),A=s("4bd4"),E=s("132d"),j=s("0fd9"),N=s("8654"),S=s("71d9"),P=s("2a7f"),D=s("3a2f"),F=Object(v["a"])(u,n,i,!1,null,"53452316",null);e["default"]=F.exports;m()(F,{VBtn:p["a"],VCard:g["a"],VCardText:b["c"],VCol:k["a"],VContainer:x["a"],VDialog:_["a"],VDivider:T["a"],VExpandTransition:w["a"],VExpansionPanel:y["a"],VExpansionPanelContent:C["a"],VExpansionPanelHeader:O["a"],VExpansionPanels:V["a"],VForm:A["a"],VIcon:E["a"],VRow:j["a"],VTextField:N["a"],VToolbar:S["a"],VToolbarTitle:P["a"],VTooltip:D["a"]})}}]);
//# sourceMappingURL=chunk-2d221da6.6bb3252d.js.map