(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2109ab"],{b931:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"mb-10"},[n("v-row",[0===e.recipes.length?n("v-col",{attrs:{cols:"12",md:"8","offset-md":"2"}},[n("p",{staticClass:"mb-8",class:{headline:e.$vuetify.breakpoint["xs"],"display-2":e.$vuetify.breakpoint["smAndUp"]}},[e._v(" У вас еще нет рецептов ")]),n("p",[e._v(" Необходимо "),0===e.recipes.length?n("router-link",{attrs:{to:{name:"recipes",params:{open:!0}}}},[e._v("добавить рецепт")]):e._e(),e._v(" и после этого можно будет реминерализовать воду. ")],1)]):e._e(),e.recipes.length>0?n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-combobox",{attrs:{items:e.tanks,"item-text":"name","item-value":"volume",label:"Объем аквариума","hide-selected":"","hide-details":"auto",hint:"Выберите аквариум или введите объем","persistent-hint":"",suffix:"л","return-object":!1},model:{value:e.tankVolume,callback:function(t){e.tankVolume=e._n(t)},expression:"tankVolume"}}),n("v-expand-transition",[e.tankVolume?n("div",[n("v-subheader",{staticClass:"pl-0"},[e._v(" Объем подмены: "+e._s(e.waterChangeVolume.toFixed(1)+" л")+" ")]),n("v-slider",{staticClass:"align-end",attrs:{"hide-details":"auto"},scopedSlots:e._u([{key:"append",fn:function(){return[n("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{"hide-details":"","single-line":"",suffix:"%",type:"number"},model:{value:e.waterChange,callback:function(t){e.waterChange=e._n(t)},expression:"waterChange"}})]},proxy:!0}],null,!1,3556399637),model:{value:e.waterChange,callback:function(t){e.waterChange=e._n(t)},expression:"waterChange"}}),n("v-subheader",{staticClass:"pl-0"},[e._v(" Доля осмоса в подмене: "+e._s(e.osmosisChangeVolume.toFixed(1)+" л")+" (водопровода: "+e._s((e.waterChangeVolume-e.osmosisChangeVolume).toFixed(1)+" л")+") ")]),n("v-slider",{staticClass:"align-end",attrs:{"hide-details":"auto"},scopedSlots:e._u([{key:"append",fn:function(){return[n("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{"hide-details":"","single-line":"",suffix:"%",type:"number"},model:{value:e.osmosisChange,callback:function(t){e.osmosisChange=e._n(t)},expression:"osmosisChange"}})]},proxy:!0}],null,!1,3763818039),model:{value:e.osmosisChange,callback:function(t){e.osmosisChange=e._n(t)},expression:"osmosisChange"}}),n("div",{staticClass:"d-flex"},[n("v-text-field",{attrs:{label:"Gh в аквариуме",suffix:"dGh","hide-details":"auto"},model:{value:e.ghInit,callback:function(t){e.ghInit=e._n(t)},expression:"ghInit"}}),n("v-text-field",{staticClass:"ml-3",attrs:{label:"Gh водопровода",suffix:"dGh","hide-details":"auto"},model:{value:e.ghWaterChange,callback:function(t){e.ghWaterChange=e._n(t)},expression:"ghWaterChange"}})],1)],1):e._e()]),n("v-expand-transition",[null!==e.ghInit?n("v-select",{attrs:{items:e.recipes,label:"Выберите рецепты","item-text":"name",multiple:"","return-object":!0,"hide-details":"auto"},model:{value:e.recipesSelected,callback:function(t){e.recipesSelected=t},expression:"recipesSelected"}}):e._e()],1),e._l(e.recipesSelected,(function(t,a){return n("v-text-field",{key:a,attrs:{value:t.amountDay,label:t.name,hint:"Введите дневную дозу",suffix:t.volume||"Готовое"===t.type?"мл":"г","hide-details":"auto"},on:{input:function(t){return e.inputRecipeAmountDay(a)}}})})),Object.keys(e.totalElements).length>0?n("div",{staticClass:"mt-5"},[n("v-simple-table",{staticStyle:{"background-color":"#fafafa"},attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"pl-0 text-center"},[e._v(" Элемент ")]),n("th",{staticClass:"text-center"},[e._v(" dGh ")]),n("th",{staticClass:"text-center"},[e._v(" Доза удобрения, мг/л ")])])]),n("tbody",e._l(e.totalElementsSorted,(function(t){var a=t[0],s=t[1];return n("tr",{key:a,class:{caption:e.$vuetify.breakpoint["xs"],regular:e.$vuetify.breakpoint["smAndUp"]}},[n("td",{staticClass:"pl-0 text-center"},[e._v(" "+e._s(a)+" ")]),n("td",{staticClass:"text-center"},[a in e.HARDNESS?[e._v(" +"+e._s((s/e.HARDNESS[a]).toFixed(2))+" ")]:e._e()],2),n("td",{staticClass:"text-center pr-0"},[e._v(" +"+e._s(void 0!==s?s.toFixed(3):0)+" ")])])})),0)]},proxy:!0}],null,!1,433382232)})],1):e._e(),n("v-expand-transition",[null!==e.ghInit?n("v-text-field",{staticClass:"mt-8",attrs:{value:e.totalHardness,label:"Общая жесткость",hint:e.hardnessHint,suffix:"dGh","hide-details":"auto",readonly:"",outlined:"","persistent-hint":""}}):e._e()],1)],2):e._e()],1)],1)},s=[],i=(n("a4d3"),n("e01a"),n("d28b"),n("4de4"),n("4160"),n("4e827"),n("b680"),n("e439"),n("dbb4"),n("b64b"),n("d3b7"),n("acd8"),n("3ca3"),n("159b"),n("ddb0"),n("2fa7")),o=n("2b0e"),r=n("5fb0"),l=n("2f62"),c=n("bbd0");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={name:"remineralization",data:function(){return{FORMULAS:r["c"],COMPONENTS:r["a"],HARDNESS:r["d"],dialog:!0,tankVolume:null,tank:null,waterChange:30,osmosisChange:0,ghInit:null,ghWaterChange:0,recipesSelected:[]}},computed:d({},Object(l["d"])(["tanks","recipes","drawer"]),{waterChangeVolume:function(){return this.tankVolume*this.waterChange/100},osmosisChangeVolume:function(){return this.tankVolume*this.waterChange*this.osmosisChange/1e4},totalElements:function(){var e={},t=!0,n=!1,a=void 0;try{for(var s,i=this.recipesSelected[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var o=s.value;for(var r in o.concentration)for(var l in o.concentration[r])l in e||(e[l]=0),o.amount&&(e[l]+=o.amount*o.concentration[r][l]/this.tankVolume,o.volume||"Самомес"!==o.type||(e[l]*=1e3))}}catch(c){n=!0,a=c}finally{try{t||null==i.return||i.return()}finally{if(n)throw a}}return e},totalElementsSorted:function(){var e=[];for(var t in this.totalElements)e.push([this.convertIonName(t),this.convertIonRatio(t)*this.totalElements[t]]);return e.sort((function(e,t){return t[1]-e[1]})),e},totalHardness:function(){var e=this.totalElements["Ca"],t=this.totalElements["Mg"],n=0;return e&&(n+=e/this.HARDNESS["Ca"]),t&&(n+=t/this.HARDNESS["Mg"]),n=this.ghInit*(1-this.waterChange/100)+this.ghWaterChange*(1-this.osmosisChange/100)*this.waterChange/100+n,n.toFixed(2)},hardnessHint:function(){var e="Gh после подмены воды";return(this.totalElements["Ca"]||this.totalElements["Mg"])&&(e+=", внесения удобрений и реминирализатора"),e}}),methods:{convertIonName:function(e){return Object(c["a"])(e)},convertIonRatio:function(e){return Object(c["b"])(e)},countPercent:function(e){return Object(c["c"])(e)},countTotalIonConcentration:function(e){return Object(c["e"])(e)},inputRecipeAmountDay:function(e){var t=this.recipesSelected[e],n=parseFloat(event.target.value);o["a"].set(this.recipesSelected,e,d({},t,{amount:isNaN(n)?"":n}))}}},p=h,m=n("2877"),f=n("6544"),v=n.n(f),b=n("62ad"),g=n("2b5d"),C=n("a523"),x=n("0789"),y=n("0fd9"),_=n("b974"),k=n("1f4f"),S=n("ba0d"),w=n("e0c7"),O=n("8654"),V=Object(m["a"])(p,a,s,!1,null,null,null);t["default"]=V.exports;v()(V,{VCol:b["a"],VCombobox:g["a"],VContainer:C["a"],VExpandTransition:x["a"],VRow:y["a"],VSelect:_["a"],VSimpleTable:k["a"],VSlider:S["a"],VSubheader:w["a"],VTextField:O["a"]})}}]);
//# sourceMappingURL=chunk-2d2109ab.3490b517.js.map